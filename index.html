<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>中韓即時翻譯練習（修正版）</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      padding: 20px;
    }
    .box {
      background-color: #ffffff;
      padding: 20px;
      max-width: 520px;
      margin: auto;
      border-radius: 8px;
    }
    input {
      width: 100%;
      padding: 8px;
      margin-top: 10px;
      font-size: 16px;
    }
    .result {
      margin-top: 10px;
      min-height: 22px;
      color: #333;
    }
    .error {
      color: red;
    }
    .rules {
      margin-top: 20px;
      font-size: 14px;
      color: #666;
    }
  </style>
</head>
<body>

  <div class="box">
    <h2>中文 ➜ 韓文（即時翻譯）</h2>
    <input id="zhInput" type="text" placeholder="請輸入中文" oninput="zhToKo()">
    <div id="zhResult" class="result"></div>

    <hr>

    <h2>韓文 ➜ 中文（即時翻譯）</h2>
    <input id="koInput" type="text" placeholder="한국어를 입력하세요" oninput="koToZh()">
    <div id="koResult" class="result"></div>

    <div class="rules">
      <strong>使用規則：</strong>
      <ul>
        <li>上方輸入區只能輸入中文</li>
        <li>下方輸入區只能輸入韓文</li>
        <li>輸入時會即時翻譯，不需要按按鈕</li>
        <li>僅支援字典中已有的詞彙</li>
      </ul>
      <hr>
      <strong>可翻譯單字清單：</strong><br>
      <button onclick="toggleList()" style="margin:8px 0;">展開 / 收合</button>
      <ul id="wordList" style="display:none; max-height:300px; overflow:auto;"></ul>
    </div>
  </div>

  <script>
// ===============================
// 1. 中韓對照字典（從外部 JSON 載入）
// ===============================
// ===============================
// 1. 中韓對照字典（直接內建，不使用外部檔案）
// ===============================
const dictionary = {
  "你好": "안녕하세요",
  "謝謝": "감사합니다",
  "對不起": "죄송합니다",
  "再見": "안녕히 가세요",
  "請": "주세요",
  "是": "네",
  "不是": "아니요",
  "今天": "오늘",
  "明天": "내일",
  "昨天": "어제",
  "朋友": "친구",
  "老師": "선생님",
  "學生": "학생",
  "學校": "학교",
  "家": "집",
  "吃": "먹어요",
  "喝": "마셔요",
  "看": "봐요",
  "聽": "들어요",
  "說": "말해요",
  "走": "가요",
  "來": "와요",
  "買": "사요",
  "睡覺": "자요",
  "起床": "일어나요",
  "學習": "공부해요",
  "運動": "운동해요",
  "休息": "쉬어요",
  "忙": "바빠요",
  "不忙": "안 바빠요",
  "好": "좋아요",
  "不好": "안 좋아요"
};

// 頁面載入完成後產生單字清單
renderWordList();

// ===============================
// 2. 中文 ➜ 韓文
// ===============================
function zhToKo() {
  const input = document.getElementById("zhInput").value.trim();
  const result = document.getElementById("zhResult");
  result.className = "result";

  if (input === "") {
    result.textContent = "";
    return;
  }

  if (!/^[一-鿿]+$/.test(input)) {
    result.textContent = "請只輸入中文";
    result.classList.add("error");
    return;
  }

  result.textContent = dictionary[input] || "找不到對應的韓文";
}

// ===============================
// 3. 韓文 ➜ 中文
// ===============================
function koToZh() {
  const input = document.getElementById("koInput").value.trim();
  const result = document.getElementById("koResult");
  result.className = "result";

  if (input === "") {
    result.textContent = "";
    return;
  }

  if (!/^[가-힯]+$/.test(input)) {
    result.textContent = "請只輸入韓文";
    result.classList.add("error");
    return;
  }

  const zhWord = Object.keys(dictionary).find(key => dictionary[key] === input);
  result.textContent = zhWord || "找不到對應的中文";
}

// ===============================
// 4. 顯示可翻譯單字清單
// ===============================
function renderWordList() {
  const wordList = document.getElementById("wordList");
  wordList.innerHTML = "";

  Object.keys(dictionary).forEach(zh => {
    const li = document.createElement("li");
    li.textContent = zh + " ⇄ " + dictionary[zh];
    wordList.appendChild(li);
  });
}

// ===============================
// 5. 展開 / 收合
// ===============================
function toggleList() {
  const wordList = document.getElementById("wordList");
  wordList.style.display =
    wordList.style.display === "none" ? "block" : "none";
}
</script>

</body>
</html>
